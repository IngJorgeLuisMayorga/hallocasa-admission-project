<md-content>
  <section layout="column" layout-align="start start" layout-wrap>
  <h2>MANAGE LOCATIONS</h2>
  <div layout="column" layout-padding ng-cloak>
    <div flex ng-repeat="(key, item) in vm.STORAGE track by $index" >

        <div class="item-location" layout="row" layout-padding ng-cloak>

            <div class=delete-btn ng-click="vm.deleteOnStorage(key)">
                <md-icon md-font-icon="mdi-delete"></md-icon>
            </div>

            <div class="tag-box">
                <md-input-container>
                    <label>Place Name</label>
                    <input ng-model="vm.STORAGE[key].name" ng-blur="vm.updateName(vm.STORAGE[key].name,key)">
                </md-input-container>
            </div>

            <div class="search-box">
                    <md-autocomplete style="min-width:300px;width:fit-content;"
                    md-selected-item="vm.STORAGE[key].address"
                    md-no-cache="true"
                    md-search-text="vm.STORAGE[key].search"
                    md-items="query in vm.querySearch(vm.STORAGE[key].search,key)"
                    md-item-text="query.formatted_address"
                    md-floating-label="Place Address"
                    md-min-length="0"
                    placeholder="Input" style="color:black;">
                    <span md-highlight-text="vm.STORAGE[key].search">
                            {{ query.formatted_address }}
                         </span>
                   </md-autocomplete >
            </div>

            <div class="position-box">
                <span class="lat">Lat : {{vm.STORAGE[key].position.lat | number : 4}} </span>
                <br>
                <span class="lng">Long :  {{vm.STORAGE[key].position.lng | number : 4}} </span>
            </div>


        </div>

    </div>

    <br>

        <div class="item-location-new" layout="row" layout-padding ng-cloak >

                <div class=delete-btn>
                    <md-icon md-font-icon="mdi-add"></md-icon>
                </div>

                <div class="tag-box">
                    <md-input-container>
                        <label>Place Name</label>
                        <input ng-model="vm.NEW.name">
                    </md-input-container>
                </div>

                <div class="search-box">
                        <md-autocomplete style="min-width:300px;width:fit-content;"
                        md-selected-item="vm.NEW.address"
                        md-no-cache="true"
                        md-search-text="vm.NEW.search"
                        md-items="querynew in vm.querySearchNew(vm.NEW.search)"
                        md-item-text="querynew.formatted_address"
                        md-floating-label="Place Address"
                        md-min-length="0"
                        ng-blur = "vm.addToStorage()"
                        placeholder="Input" style="color:black;">
                        <span md-highlight-text="vm.NEW.search">
                                {{ querynew.formatted_address }}
                             </span>
                       </md-autocomplete >
                </div>

                <div class="position-box">
                    <span class="lat">Lat : {{vm.NEW.position.lat | number : 4}} </span>
                    <br>
                    <span class="lng">Long :  {{vm.NEW.position.lng | number : 4}} </span>
                </div>


            </div>

  </div>
  </section>
</md-content>




<!--

    <span> {{item}} </span>
        <br>
        <md-input-container class="md-icon-float md-block">

            <label>Place : </label>
            <input md-maxlength="150" ng-model="item"  size="10"   style="min-width:350px;width:auto;">
        </md-input-container>
        <br>


-->